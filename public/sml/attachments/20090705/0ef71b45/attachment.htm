<tt>
$B_@:j$G$9!#(B&lt;div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2009/07/05&nbsp;6:39&nbsp;Hiroshi&nbsp;Umeoka&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:umrlazybind@gmail.com&quot;&gt;umrlazybind@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
$B$*$O$h$&amp;$4$6$$$^$9!&quot;G_2,$G$9!#(B&lt;/blockquote&gt;&lt;div&gt;$B!cCfN,!d(B&amp;nbsp;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;br&gt;amount&nbsp;$B$,%$%s%9%?%s%9JQ?t$N$h$&amp;$K5!G=$7$^$9$M!#$^$k$G%V%m%C%/$,%*%V%8%'%/%H$N$h$&amp;$K?6$kIq$C$F$$$^$9!#%/%m!&lt;%8%c$C$FLLGr$$$C!&quot;$HC1=c$K;W$$$^$7$?!#(B&lt;/blockquote&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;$BG_2,$5$s$NDs&lt;($5$l$?NcBj$r8+$F!&quot;$U$H!V$3$s$J$3$H=PMh$k$+$J$&quot;!W$H;W$$$D$$$F(B&lt;/div&gt;&lt;div&gt;$B$d$C$F$_$?$i&gt;e&lt;j$/F0$$$?$N$G!&quot;$4&gt;R2p$7$^$9!#(B&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;--------------$B!!$3$3$+$i(B&nbsp;-----------------&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;|&nbsp;accountCreater&nbsp;anAccount&nbsp;newBlockCreater&nbsp;newBlock&nbsp;method&nbsp;|&lt;/div&gt;<br>
&lt;div&gt;accountCreater&nbsp;:=&amp;nbsp;&lt;/div&gt;&lt;div&gt;[:initialBalance&nbsp;|&lt;/div&gt;&lt;div&gt;|&nbsp;balance&nbsp;|&lt;/div&gt;&lt;div&gt;balance&nbsp;:=&nbsp;initialBalance.&lt;/div&gt;&lt;div&gt;(Dictionary&nbsp;new)&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;at:&nbsp;#withdraw&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;put:&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;[:amount&nbsp;|&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;balance&nbsp;:=&nbsp;balance&nbsp;-&nbsp;amount.&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;balance&nbsp;yourself];&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;at:&nbsp;#deposit&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;put:&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;[&nbsp;:amount&nbsp;|&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;balance&nbsp;:=&nbsp;balance&nbsp;+&nbsp;amount.&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;balance&nbsp;yourself];&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;at:&nbsp;#balance&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;put:&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;[balance&nbsp;yourself];&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;yourself].&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;anAccount&nbsp;:=&nbsp;accountCreater&nbsp;value:&nbsp;1000.&lt;/div&gt;&lt;div&gt;Transcript&nbsp;clear.&lt;/div&gt;&lt;div&gt;Transcript&nbsp;cr;&nbsp;show:&nbsp;(anAccount&nbsp;at:&nbsp;#balance)&nbsp;value&nbsp;printString.&lt;/div&gt;<br>
&lt;div&gt;Transcript&nbsp;cr;&nbsp;show:&nbsp;((anAccount&nbsp;at:&nbsp;#withdraw)&nbsp;value:&nbsp;500)&nbsp;printString.&lt;/div&gt;&lt;div&gt;Transcript&nbsp;cr;&nbsp;show:&nbsp;((anAccount&nbsp;at:&nbsp;#deposit)&nbsp;value:&nbsp;300)&nbsp;printString.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;newBlockCreater&nbsp;:=&amp;nbsp;&lt;/div&gt;&lt;div&gt;[|&nbsp;balance&nbsp;|&lt;/div&gt;<br>
&lt;div&gt;[balance&nbsp;:=&nbsp;0.&lt;/div&gt;&lt;div&gt;balance&nbsp;yourself]&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;yourself].&lt;/div&gt;&lt;div&gt;&amp;nbsp;&lt;/div&gt;&lt;div&gt;newBlock&nbsp;:=&nbsp;newBlockCreater&nbsp;value.&lt;/div&gt;&lt;div&gt;method&nbsp;:=&nbsp;newBlock&nbsp;method.&lt;/div&gt;<br>
&lt;div&gt;newBlock&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;setMethod:&nbsp;method&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;outerContext:&nbsp;(anAccount&nbsp;at:&nbsp;#balance)&nbsp;outerContext&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;copiedValues:&nbsp;(anAccount&nbsp;at:&nbsp;#balance)&nbsp;copiedValues.&lt;/div&gt;&lt;div&gt;anAccount&nbsp;at:&nbsp;#reset&nbsp;put:&nbsp;newBlock.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Transcript&nbsp;cr;&nbsp;show:&nbsp;(anAccount&nbsp;at:&nbsp;#reset)&nbsp;value&nbsp;printString.&lt;/div&gt;<br>
&lt;div&gt;^anAccount&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;--------------$B!!$3$3$^$G(B&nbsp;-----------------&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;$B0JA0$N(BSmalltalk$BJY6/2q!w5~ET$G!&quot;!V%/%i%9$,%a%=%C%I$rJ];}$7$F$$$k$N$O!&quot;(B&lt;/div&gt;&lt;div&gt;$B%a%b%j$N@aLs$N$?$a$G!W$J$s$F$$$&amp;$*OC$,$&quot;$j$^$7$?$,!&quot;$3$N%W%m%0%i%`$G$O(B&lt;/div&gt;&lt;div&gt;$B%*%V%8%'%/%H&lt;+?H$,%a%=%C%I$r;}$C$F$$$F!&quot;$5$i$K%*%V%8%'%/%H$r@8@.$7$?8e$K(B&lt;/div&gt;<br>
&lt;div&gt;$B%a%=%C%I$rDI2C$7$F$$$^$9!#$,$s$P$C$F=q$1$P!&quot;%$%s%9%?%s%9JQ?t!J!)!K$rDI2C(B&lt;/div&gt;&lt;div&gt;$B$9$k$3$H$b62$i$/2DG=$@$H;W$$$^$9!#(B&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;&lt;br&gt;Osamu&nbsp;Hamasaki&lt;br&gt;&lt;br&gt;<br>
&lt;/div&gt;
</tt>
