<tt>
濱崎です。&lt;div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2009/07/05&nbsp;6:39&nbsp;Hiroshi&nbsp;Umeoka&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:umrlazybind@gmail.com&quot;&gt;umrlazybind@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
おはよう瘢雹ございます・髟阡伺濂♢任后跫站髟阡絋苳殺踉私蝟＜中略＞&amp;nbsp;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;br&gt;amount&nbsp;がインスタンス変数のよう瘢雹に機能しますね。まるでブロックがオブジェクトのよう瘢雹に振る舞っています。クロ・踉札献磴辰凸滅鬚い叩と単純に思いました。&lt;/blockquote&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;梅岡さんの提┐気譴仁秣蠅鮓㎠董ふと「こんなこと出来るかなう髟阡察廚隼廚い弔い蝟粡苳ぢやってみたら絋踉至く動いたので・髟阡擦侃苳子介します。&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;--------------　ここから&nbsp;-----------------&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;|&nbsp;accountCreater&nbsp;anAccount&nbsp;newBlockCreater&nbsp;newBlock&nbsp;method&nbsp;|&lt;/div&gt;<br>
&lt;div&gt;accountCreater&nbsp;:=&amp;nbsp;&lt;/div&gt;&lt;div&gt;[:initialBalance&nbsp;|&lt;/div&gt;&lt;div&gt;|&nbsp;balance&nbsp;|&lt;/div&gt;&lt;div&gt;balance&nbsp;:=&nbsp;initialBalance.&lt;/div&gt;&lt;div&gt;(Dictionary&nbsp;new)&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;at:&nbsp;#withdraw&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;put:&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;[:amount&nbsp;|&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;balance&nbsp;:=&nbsp;balance&nbsp;-&nbsp;amount.&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;balance&nbsp;yourself];&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;at:&nbsp;#deposit&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;put:&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;[&nbsp;:amount&nbsp;|&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;balance&nbsp;:=&nbsp;balance&nbsp;+&nbsp;amount.&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;balance&nbsp;yourself];&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;at:&nbsp;#balance&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;put:&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;[balance&nbsp;yourself];&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;yourself].&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;anAccount&nbsp;:=&nbsp;accountCreater&nbsp;value:&nbsp;1000.&lt;/div&gt;&lt;div&gt;Transcript&nbsp;clear.&lt;/div&gt;&lt;div&gt;Transcript&nbsp;cr;&nbsp;show:&nbsp;(anAccount&nbsp;at:&nbsp;#balance)&nbsp;value&nbsp;printString.&lt;/div&gt;<br>
&lt;div&gt;Transcript&nbsp;cr;&nbsp;show:&nbsp;((anAccount&nbsp;at:&nbsp;#withdraw)&nbsp;value:&nbsp;500)&nbsp;printString.&lt;/div&gt;&lt;div&gt;Transcript&nbsp;cr;&nbsp;show:&nbsp;((anAccount&nbsp;at:&nbsp;#deposit)&nbsp;value:&nbsp;300)&nbsp;printString.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;newBlockCreater&nbsp;:=&amp;nbsp;&lt;/div&gt;&lt;div&gt;[|&nbsp;balance&nbsp;|&lt;/div&gt;<br>
&lt;div&gt;[balance&nbsp;:=&nbsp;0.&lt;/div&gt;&lt;div&gt;balance&nbsp;yourself]&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;yourself].&lt;/div&gt;&lt;div&gt;&amp;nbsp;&lt;/div&gt;&lt;div&gt;newBlock&nbsp;:=&nbsp;newBlockCreater&nbsp;value.&lt;/div&gt;&lt;div&gt;method&nbsp;:=&nbsp;newBlock&nbsp;method.&lt;/div&gt;<br>
&lt;div&gt;newBlock&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;setMethod:&nbsp;method&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;outerContext:&nbsp;(anAccount&nbsp;at:&nbsp;#balance)&nbsp;outerContext&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;copiedValues:&nbsp;(anAccount&nbsp;at:&nbsp;#balance)&nbsp;copiedValues.&lt;/div&gt;&lt;div&gt;anAccount&nbsp;at:&nbsp;#reset&nbsp;put:&nbsp;newBlock.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Transcript&nbsp;cr;&nbsp;show:&nbsp;(anAccount&nbsp;at:&nbsp;#reset)&nbsp;value&nbsp;printString.&lt;/div&gt;<br>
&lt;div&gt;^anAccount&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;--------------　ここまで&nbsp;-----------------&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;以前のSmalltalk勉強会＠京都で・髟阡察屮薀垢♠瓮愁奪匹鯤飮靴討い襪里蓮&lt;/div&gt;&lt;div&gt;メモリの節約のためで」なんていう瘢雹お話がう髟阡擦蠅泙靴燭♤このプログラムでは&lt;/div&gt;&lt;div&gt;オブジェクト箸♠瓮愁奪匹鮖辰討い董さらにオブジェクトを生成した後に&lt;/div&gt;<br>
&lt;div&gt;メソッドを追加しています。がんばって書けば・髟阡札ぅ鵐好織鵐絞竸堯福①砲鯆媛蝟粡苳ぢすることも恐らく可能だと思います。&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;&lt;br&gt;Osamu&nbsp;Hamasaki&lt;br&gt;&lt;br&gt;<br>
&lt;/div&gt;
</tt>
