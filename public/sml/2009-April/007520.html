<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [SML 7520] Cincom Smalltalk Daily: 11/1/06に関して
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:sml%40smalltalk.jp?Subject=%5BSML%207520%5D%20%3D%3Fiso-2022-jp%3Fb%3FQ2luY29tIFNtYWxsdGFsayBEYWlseTogMTEv%3F%3D%0A%09%3D%3Fiso-2022-jp%3Fb%3FMS8wNhskQiRLNFgkNyRGGyhC%3F%3D&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=utf8">
   <LINK REL="Previous"  HREF="007518.html">
   <LINK REL="Next"  HREF="007521.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[SML 7520] Cincom Smalltalk Daily: 11/1/06に関して</H1>
    <B>Akinori Sugitani</B>
    <A HREF="mailto:sml%40smalltalk.jp?Subject=%5BSML%207520%5D%20%3D%3Fiso-2022-jp%3Fb%3FQ2luY29tIFNtYWxsdGFsayBEYWlseTogMTEv%3F%3D%0A%09%3D%3Fiso-2022-jp%3Fb%3FMS8wNhskQiRLNFgkNyRGGyhC%3F%3D&In-Reply-To="
       TITLE="[SML 7520] Cincom Smalltalk Daily: 11/1/06に関して">asugitan ＠ kh.rim.or.jp
       </A><BR>
    <I>2009年 4月 24日 (金) 11:17:49 JST</I>
    <P><UL>
        <LI>前の記事 <A HREF="007518.html">[SML 7518] 「Seaside へ GO!!」の第五回が掲載されました
</A></li>
        <LI>次の記事 <A HREF="007521.html">[SML 7521] オーバロードはポリモフィズムか?
</A></li>
         <LI> <B>記事の並び順:</B> 
              <a href="date.html#7520">[ 日付 ]</a>
              <a href="thread.html#7520">[ スレッド ]</a>
              <a href="subject.html#7520">[ 件名 ]</a>
              <a href="author.html#7520">[ 著者 ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>はじめまして。京都のSmalltalk勉強会に参加させて戴いている杉谷と申します。
勉強会の経験でライブ学習のすばらしさを知り日頃はJames RobertsonさんのSmalltalk 
Dailyのスクリーンキャストで
自習しております。
<A HREF="http://www.cincomsmalltalk.com/userblogs/cincom/blogView?content=smalltalk_daily">http://www.cincomsmalltalk.com/userblogs/cincom/blogView?content=smalltalk_daily</A>

今回は&quot;Cincom Smalltalk Daily: 11/1/06&quot;に関する投稿です。
（Connectivity→Working with Databases→Creating a UI for the database 
 code）

その前の段階&quot;Mapping to a domain object&quot;までは上手く行っていましたが、
GUIを立ち上げて&quot;Do Query&quot;ボタンを押すと
&quot;Unhandled exception: Message not understod: #list:&quot;
というエラーが出ていました。スクリーンキャストを何度もみなおしましたが、
コードの入力間違いはなさそうでした。

GUIがinstallされているクラスは

Smalltalk defineClass: #EmployeeUI
 superclass: #{UI.ApplicationModel}
 indexedType: #none
 private: false
 instanceVariableNames: 'employeeList employees queryExecutor '
 classInstanceVariableNames: ''
 imports: ''
 category: 'UIApplications-New'

で、キャンバス上のDataSet Widgetが&quot;employees &quot;
DataSetの各列(empno, empname, job, hiredate)に対するアスペクトがそれぞれ
&quot;employeeList empno&quot;等のように設定されています。

&quot;初期化メソッド&quot;
initialize

 self queryExecutor: QueryEx？？

QueryExの後ろがダイアログで隠れて見えないので、よく解らないまま
self queryExecutor: QueryExecutor new
としました。

&quot;Do Query&quot;アクションボタンのについては、
doQuery
 &quot;This stub method was generated by UIDefiner&quot;

 | emps |
 emps := self queryExecutor executeQuery: 'select * from emp'.
 self employeeList list: emps

エラー：&quot;Unhandled exception: Message not understod: #list:&quot;
はここで生じているようです。

Robertsonさんは&quot;employeeListはSelectionInListオブジェクト&quot;と言っているように聞こえるのですが
（英語聞き取りには自信がありません）

employeeList
 &quot;This method was generated by UIDefiner....&quot;

 ^employeeList isNil ifTrue: [employeeList := nil asValue]
  ifFalse: [employeeList]

employees
 &quot;This method was generated by UIDefiner....&quot;
 ^employees isNil ifTrue:
   [employees := SelectionInList new.
   employees selectionIndexHolder compute:
     [:v | self employeeList value: employees selection].
   employees]
  ifFalse: [employees]

となっていて、&quot;employeeList&quot;はListらしくありません。
そこで、
&quot;self employeeList list: emps&quot;　→　&quot;self employees list: emps&quot;
に替えてみたところ、エラーにならず、empsの内容がDataSetに表示されました。
1月頃からずっと悩んでいましたので、感動しましたが、スクリーンキャストのコードが間違っていたということになり、
実際に操作しながら「撮影」されたもので、そのようなことが起りうるのか不思議です。 

Smalltalkに慣れた人にとっては、悩むようなことではないのかもしれませんが、
初心者の私にとっては、かなりの「難問」でした。


あと、動作し始めてから
initialize

 self queryExecutor:　QueryExecutor new
を
 self queryExecutor:　QueryExecutor
に替えてみましたが、どちらも動作しました。これは本来どう書くべきなのでしょうか？

当初は&quot;Unhandled exception: Message not understod: #list:&quot;の出る原因がどうしても解決できず、このMLで質問しようかと思い、準備をしていたのですが、とりあえず解決しました。同じ問題で悩んでいる方の参考になれば幸いです。

---------------------
杉谷明則

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>前の記事 <A HREF="007518.html">[SML 7518] 「Seaside へ GO!!」の第五回が掲載されました
</A></li>
	<LI>次の記事 <A HREF="007521.html">[SML 7521] オーバロードはポリモフィズムか?
</A></li>
         <LI> <B>記事の並び順:</B> 
              <a href="date.html#7520">[ 日付 ]</a>
              <a href="thread.html#7520">[ スレッド ]</a>
              <a href="subject.html#7520">[ 件名 ]</a>
              <a href="author.html#7520">[ 著者 ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.akademia.co.jp/Smalltalk/SML/">SML メーリングリストの案内
</a><br>
</body></html>
